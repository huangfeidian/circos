CMAKE_MINIMUM_REQUIRED(VERSION 2.8)
SET(CMAKE_INSTALL_PREFIX $ENV{USR_ROOT} CACHE PATH <"my usr root">)
PROJECT(circos)
#dependency
FIND_PACKAGE(PNG 1.2.9 REQUIRED)
INCLUDE_DIRECTORIES(${PNG_INCLUDE_DIRS})
# external library: zlib (mandatory)

FIND_PACKAGE(ZLIB REQUIRED)
INCLUDE_DIRECTORIES(${ZLIB_INCLUDE_DIRS})
# external library: FreeType (optional)
FIND_PACKAGE(Freetype REQUIRED)
IF(FREETYPE_FOUND)
    INCLUDE_DIRECTORIES(${FREETYPE_INCLUDE_DIRS})
    SET(FREETYPE_FLAGS "-DUSE_FREETYPE")
ELSE(FREETYPE_FOUND)
    SET(FREETYPE_FLAGS "-DNO_FREETYPE")
    SET(FREETYPE_LIBRARIES "")
ENDIF(FREETYPE_FOUND)
SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${FREETYPE_FLAGS}")

# FIND_PACKAGE(PNGWRITER REQUIRED)
# INCLUDE_DIRECTORIES(${PNGWRITER_INCLUDE_DIRS})
SET(CIRCOS_SRC_DIR ${CMAKE_SOURCE_DIR}/src)
SET(CIRCOS_INCLUDE_DIR ${CMAKE_SOURCE_DIR}/include)
FILE(GLOB_RECURSE  CIRCOS_SRC_LISTS ${CIRCOS_SRC_DIR}/*.cpp)
INCLUDE_DIRECTORIES(${CIRCOS_INCLUDE_DIR})
ADD_EXECUTABLE("circos_pi" ${CMAKE_SOURCE_DIR}/test/test.cpp ${CIRCOS_SRC_LISTS})
target_link_libraries("circos_pi" ${ZLIB_LIBRARIES} ${PNG_LIBRARIES} ${FREETYPE_LIBRARIES})